<nav class="sidebar">
  <!-- Fixed Logo Section -->
  <div class="sidebar-header">
    <div class="logo-container">
      <img src="assets/images/logo.png" alt="Veggo Logo">
      <div class="logo-text">
        <span class="veggo">Veggo</span>
        <span class="by-vermeg">by VERMEG</span>
      </div>
    </div>
  </div>

  <!-- Scrollable Content Section -->
  <div class="sidebar-scroll-content">
    <div [@slideSidebar]="isAssetView ? 'asset' : 'default'" class="sidebar-transition-wrapper">
      <!-- Default Sidebar Links -->
      <ul class="nav-links" *ngIf="!isAssetView">
        <li><a routerLink="/admin/dashboard" routerLinkActive="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
        <li><a routerLink="/admin/users" routerLinkActive="active"><i class="fas fa-user"></i> Users</a></li>
        <li><a routerLink="/admin/reports" routerLinkActive="active"><i class="fas fa-chart-line"></i> Reports</a></li>
        <li><a (click)="toggleAssetView()" style="cursor:pointer;"><i class="fas fa-box-open"></i> Assets</a></li>
      </ul>

      <!-- Asset View Sidebar -->
      <div *ngIf="isAssetView" class="asset-sidebar">
        <button class="btn-back" (click)="toggleAssetView()">
          <i class="fas fa-arrow-left me-2"></i> Back
        </button>
        <ul class="grouped-asset-list">
          <li *ngFor="let type of assetTypes">
            <a (click)="selectAsset(type.name)">
              <i [class]="type.icon"></i>
              {{ type.name }}
              <i class="fas" [ngClass]="selectedAsset === type.name ? 'fa-chevron-down' : 'fa-chevron-right'" style="margin-left: auto;"></i>
            </a>
            <button
              *ngIf="selectedAsset === type.name"
              class="search-button"
              (click)="goToSearch(type.value)"
            >
              <i class="fas fa-list-ul"></i> Search {{ type.name }}
            </button>
          </li>
          <li>
            <a (click)="selectAsset('Tag')">
              <i class="fas fa-cog"></i>
              Tag
              <i class="fas" [ngClass]="selectedAsset === 'Tag' ? 'fa-chevron-down' : 'fa-chevron-right'" style="margin-left: auto;"></i>
            </a>
            <button *ngIf="selectedAsset === 'Tag'" class="search-button" [routerLink]="['/admin/tags']">
              <i class="fas fa-list-ul"></i> Search Tag
            </button>
          </li>

          <li>
            <a (click)="selectAsset('Category')">
              <i class="fas fa-cog"></i>
              Category
              <i class="fas" [ngClass]="selectedAsset === 'Category' ? 'fa-chevron-down' : 'fa-chevron-right'" style="margin-left: auto;"></i>
            </a>
            <button *ngIf="selectedAsset === 'Category'" class="search-button" [routerLink]="['/admin/categories']">
              <i class="fas fa-list-ul"></i> Search Category
            </button>
          </li>

        </ul>

      </div>
    </div>
  </div>

  <!-- Fixed Profile Section -->
  <div class="sidebar-profile dropup">
    <button type="button" class="profile-toggle-btn" (click)="toggleProfileDropdown()">
      <div class="profile-badge">{{ firstNameInitial }}</div>
      <div class="profile-name">{{ fullName }}</div>
      <i class="fas fa-chevron-up ms-auto"></i>
    </button>
    <div class="dropdown-menu show profile-dropdown" *ngIf="showProfileMenu">
      <a class="dropdown-item" routerLink="/admin/profile"><i class="fas fa-user me-2"></i> Profile</a>
      <a class="dropdown-item" routerLink="/admin/settings"><i class="fas fa-cog me-2"></i> Settings</a>
      <div class="dropdown-divider"></div>
      <button class="dropdown-item logout-button" (click)="logout()">
        <i class="fas fa-sign-out-alt me-2"></i> Logout
      </button>
    </div>
  </div>
</nav>
